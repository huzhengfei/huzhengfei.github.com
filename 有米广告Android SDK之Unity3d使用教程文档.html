<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>

    <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
    Remove this if you use the .htaccess -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <title>有米广告Android SDK开发者文档</title>
    <meta name="viewport" content="width=device-width; initial-scale=1.0"/>
    <!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
    <link rel="shortcut icon" href="/favicon.ico"/>
    <link rel="apple-touch-icon" href="/apple-touch-icon.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style/css/bootstrap.css" rel="stylesheet">
    <link href="style/css/bootstrap-responsive.css" rel="stylesheet">
    <!--
    <link href="css/prettify.css" rel="stylesheet" />
    -->
    <!--
    <link href="css/doc.css" rel="stylesheet" />
    -->
    <link href="style/css/docs.css" rel="stylesheet"/>
    <script type="text/javascript" src="style/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="style/js/bootstrap.min.js"></script>
    <!--
    <script type="text/javascript" src="js/prettify.js"></script>
    -->
    <script type="text/javascript" src="style/js/doc.js"></script>
    <script src="style/js/highlight.pack.js"></script>
    <script>
        hljs.tabReplace = ' ';
        hljs.initHighlightingOnLoad();
    </script>
</head>

<body data-spy="scroll" onload="prettyPrint();" data-target="#ym-navbar">


<div class="header navbar-inner">
    <div class="container clearfix">
        <img class="pull-left" src="style/img/icon.png">
        <span class="pull-left brand">有米广告Android SDK开发者文档</span>
    </div>
</div>

<!-- data-target=".bs-docs-sidebar" -->

<!--
<div class="navbar  navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <label class="brand"><img src="img/icon.png"> 有米广告Android SDK开发者文档 </label>
        </div>
    </div>
</div>
        -->

<div class="container">
<!--			<div class="row-fluid"> -->
<!--				<div class="span4 bs-docs-sidebar" id="mynavbar"> -->
<!--Sidebar content-->
<!--<ul class="nav nav-list bs-docs-sidenav affix nav-pills nav-stacked"  >

</ul>-->
<!--					<ul class="nav nav-list bs-docs-sidenav affix nav-pills nav-stacked"  > -->
<ul class="nav nav-list bs-docs-sidenav affix" id="ym-navbar">
    <li class='has-sub'><a class='sub-header' id='menu_foreword' href='#foreword'>前言 <i class='icon-chevron-right'></i></a>
        <ul class='nav nav-list hide'>
            <li><a href='#document_description'>1. 文档说明 </a></li>
            <li><a href='#sdk_fuction'>2. SDK功能概览 </a></li>
            <li><a href='#sdk_updatelog'>3. SDK更新日志 </a></li>
        </ul>
    </li>
    <li class='has-sub'><a class='sub-header' id='menu_preparation' href='#preparation'>一、预备篇 <i
            class='icon-chevron-right'></i></a>
        <ul class='nav nav-list hide'>
            <li><a href='#download_unity3d_installation'>1. 下载安装Unity3d </a></li>
            <li><a href='#set_up_android_IDE'>2. 搭建Android开发环境 </a></li>
        </ul>
    </li>
    <li class='has-sub'><a class='sub-header' id='menu_prepare_work' href='#prepare_work'>二、准备工作 <i
            class='icon-chevron-right'></i></a>
        <ul class='nav nav-list hide'>
            <li><a href='#apply_AppID'>1. 申请AppID </a></li>
            <li><a href='#downdload_youmiAD_sdk'>2. 下载有米广告SDK </a></li>
        </ul>
    </li>
    <li class='has-sub'><a class='sub-header' id='menu_inset_AD_sdk' href='#inset_AD_sdk'>三、嵌入广告SDK <i
            class='icon-chevron-right'></i></a>
        <ul class='nav nav-list hide'>
            <li><a href='#process_overview'>流程总览 </a></li>
        </ul>
    </li>
    <li class='has-sub'><a class='sub-header' id='menu_detailed_steps' href='#detailed_steps'>四、详细步骤 <i
            class='icon-chevron-right'></i></a>
        <ul class='nav nav-list hide'>
            <li><a href='#create_android_project'>1. 创建Android工程 </a></li>
            <li><a href='#create_unity3d_project'>2. 创建Unity3d工程 </a></li>
        </ul>
    </li>
    <li><a href='#question_feedback'>五、问题反馈 </a></li>
</ul>
<!--				</div> -->
<!--<div class="span8" >-->
<div class="doc-content">
<!--Body content-->
<h1 class="sdkhead" id="youmi_sdk_unity3d_course"><img alt="logo" src="images/youmiimg/icon.png"/>有米广告Android
    SDK之Unity3d使用教程文档</h1>

<h2 class="sdkhead" id="foreword">前言</h2>

<h3 class="sdkhead" id="document_description">1. 文档说明</h3>

<p>此文档是为方便使用Unity3d引擎的开发者嵌入有米广告SDK而撰写的，有错漏之处，请各位开发者指正。申请Appid等流程请参考<a href="http://wiki.youmi.net">标准SDK文档</a></p>

<h3 class="sdkhead" id="sdk_fuction">2. SDK功能概览</h3>
<ul>
    <li>无积分广告
        <ul>
            <li>插播</li>
            <li>广告条</li>
            <li>自定义广告</li>
            <li>SmartBanner</li>
        </ul>
    </li>
    <li>积分广告
        <ul>
            <li>全屏积分墙列表</li>
            <li>对话框积分墙列表</li>
            <li>积分广告条</li>
            <li>积分迷你广告条</li>
        </ul>
    </li>
    <li>使用功能
        <ul>
            <li>检查更新</li>
            <li>在线配置</li>
        </ul>
    </li>
</ul>
<h3 class="sdkhead" id="sdk_updatelog">3. SDK更新日志</h3>
<ul>
    <li>
        <p>v4.06 2013-11-14</p>
        <ul>
            <li>无积分广告[插播]
                <ul>
                    <li>增加超时时间设置接口</li>
                    <li>优化展示机制</li>
                </ul>
            </li>
        </ul>
    </li>
    <li>
        <p>v4.05</p>
        <ul>
            <li>无积分广告[SmartBanner]新广告形式上线</li>
            <li>无积分广告[插播]
                <ul>
                    <li>增加回调接口</li>
                </ul>
            </li>
            <li>无积分广告[Banner]
                <ul>
                    <li>修复在初始化时候广告请求的bug</li>
                </ul>
            </li>
            <li>所有广告形式增加检测是否配置完整的函数</li>
        </ul>
    </li>
    <li>
        <p>v4.04</p>
        <ul>
            <li>无积分广告[插播]
                <ul>
                    <li>增加引导安装提示语</li>
                </ul>
            </li>
            <li>无积分广告[自定义广告]
                <ul>
                    <li>新增迷你广告条展现形式</li>
                    <li>新增推荐墙展现形式</li>
                </ul>
            </li>
        </ul>
    </li>
    <li>
        <p>v4.03</p>
        <ul>
            <li>无积分广告[插播]
                <ul>
                    <li>支持CPC广告</li>
                    <li>支持开发者后台云控制插播防误点功能</li>
                    <li>支持开发者后台云控制插播展示频率</li>
                </ul>
            </li>
            <li>有积分广告
                <ul>
                    <li>优化获取积分流程</li>
                </ul>
            </li>
        </ul>
    </li>
    <li>v4.02
        <ul>
            <li>SDK整合，详见<a href="#sdk_fuction"> SDK功能概览 </a></li>
            <li>有积分广告
                <ul>
                    <li>新增积分广告条和积分迷你广告条两种积分广告的展现形式。</li>
                    <li>新增积分墙显示积分余额的功能(该功能可以在开发者主站控制面板关闭)。</li>
                    <li>修复弹出框积分列表的若干bug。</li>
                </ul>
            </li>
            <li>修复了一个特殊情况下无法启动下载任务的bug。</li>
            <li>修复使用4.2.2(即API-17)打包时无法正常显示广告的bug。但要求使用4.2.2进行打包apk。</li>
        </ul>
    </li>
</ul>
<h2 class="sdkhead" id="preparation">一、预备篇</h2>

<h3 class="sdkhead" id="download_unity3d_installation">1. 下载安装Unity3d</h3>

<p>该过程不详述，请参考网上相关资料。</p>

<h3 class="sdkhead" id="set_up_android_IDE">2. 搭建Android开发环境</h3>

<p>该过程不详述，请参考网上相关资料。</p>

<h2 class="sdkhead" id="prepare_work">二、准备工作</h2>

<h3 class="sdkhead" id="apply_AppID">1. 申请AppID</h3>

<p>该过程请参考<a href="http://wiki.youmi.net">标准教程</a>。</p>

<h3 class="sdkhead" id="downdload_youmiAD_sdk">2. 下载有米广告SDK</h3>

<p><a href="http://www.youmi.net/sdk">SDK下载页面</a></p>

<h2 class="sdkhead" id="inset_AD_sdk">三、嵌入广告SDK</h2>

<h3 class="sdkhead" id="process_overview">流程总览</h3>
<ol>
    <li>创建Android工程。
        <ol>
            <li>使用Eclipse创建工程。</li>
            <li>导入广告SDK的jar包。</li>
            <li>导入Unity3d的android插件jar包。</li>
            <li>创建入口类继承UnityPlayerActivity，并且实现给Unity调用的接口。</li>
            <li>配置AndroidManifest.xml。</li>
            <li>Build项目，生成class文件。</li>
            <li>将bin目录下的class文件打包成jar，命名可随意，如youmidemo.jar。</li>
        </ol>
    </li>
    <li>创建Unity3d工程。
        <ol>
            <li>创建Unity3d工程。</li>
            <li>设置参数。</li>
            <li>导入Android工程。</li>
            <li>编写调用脚本。</li>
            <li>编译运行。</li>
        </ol>
    </li>
</ol>
<h2 class="sdkhead" id="detailed_steps">四、详细步骤</h2>

<h3 class="sdkhead" id="create_android_project">1. 创建Android工程</h3>

<p>1.1. 使用Eclipse创建工程。</p>

<p><img alt="创建项目" src="images/youmiimg/newandroidproject.png"/></p>

<p>务必填写唯一标识您的应用的包名(示例是com.youmi.android.sample.unity3d，切不可直接复制使用哦)。</p>

<p><img alt="创建项目" src="images/youmiimg/newandroidproject_2.png"/></p>

<p>之后就一直Next，直到Finish</p>

<p><img alt="创建项目" src="images/youmiimg/newandroidproject_3.png"/></p>

<p>1.2. 导入广告SDK的jar包和Unity3d的android插件jar包。</p>

<p>有两个需要导入的jar包</p>

<p>一个是unity3d的插件，在Unity3d安装目录\Editor\Data\PlaybackEngines\androidplayer\bin 目录下找到，如下图:</p>

<p><img alt="导入jar" src="images/youmiimg/importsdk.png"/></p>

<p>另一个是有米的sdk jar，建议使用最新版本。</p>

<p>直接将jar复制到Android工程目录下的libs，之后将它们添加到BuildPath里面:</p>

<p><img alt="导入jar" src="images/youmiimg/importsdk_3.png"/></p>

<p>预览一下工程目录:</p>

<p><img alt="创建项目" src="images/youmiimg/importsdk_2.png"/></p>

<p>1.3. 创建入口类继承UnityPlayerActivity，并且实现给Unity调用的接口。</p>

<p>如示例所示，编辑MainActivity.java，当然您可以随意更改其名字，但如果对于Android的java工程不熟悉的话建议默认即可。</p>
<pre><code class="prettyprint lang-java">package com.youmi.android.sample.unity3d;

    import com.unity3d.player.UnityPlayerActivity;

    import net.youmi.android.AdManager;
    import net.youmi.android.banner.AdSize;
    import net.youmi.android.banner.AdView;
    import net.youmi.android.offers.OffersAdSize;
    import net.youmi.android.offers.OffersBanner;
    import net.youmi.android.offers.OffersManager;
    import net.youmi.android.offers.PointsManager;
    import net.youmi.android.spot.SpotManager;

    import android.os.Bundle;
    import android.os.Handler;
    import android.view.Gravity;
    import android.widget.FrameLayout;
    import android.app.Activity;

    public class MainActivity extends UnityPlayerActivity {

    Activity mContext = null;

    /**
    * 积分Banner
    */
    OffersBanner mOffersBanner;

    /**
    * 无积分Banner
    */
    AdView mAdView;

    /**
    * Handler，用于线程与UI交互
    */
    Handler mHandler;

    /**
    * 用于标记是否已经初始化了插播广告
    */
    boolean mHasInitSpot = false;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    this.mContext = this;
    // 初始化
    AdManager.getInstance(this).init(&quot;4ffcc4c5ca8910c8&quot;,
    &quot;34b536fd8a7e0195&quot;, false);
    // 积分墙积分初始化
    OffersManager.getInstance(this).onAppLaunch();
    // Handler初始化
    mHandler = new Handler();
    }

    /**
    * 展示全屏积分墙--可以在Unity3d中直接调用
    */
    public void showOffers() {
    OffersManager.getInstance(this).showOffersWall();
    }

    /**
    * 展示对话框积分墙--可以在Unity3d中直接调用
    */
    public void showOffersDialog() {
    mHandler.post(new Runnable() {
    @Override
    public void run() {
    // TODO Auto-generated method stub
    OffersManager.getInstance(mContext).showOffersWallDialog(
    mContext);
    }
    });
    }

    /**
    * 查询积分--可以在Unity3d中直接调用
    *
    * @return
    */
    public int queryPoints() {
    return PointsManager.getInstance(this).queryPoints();
    }

    /**
    * 消费积分--可以在Unity3d中直接调用
    *
    * @param p
    * @return
    */
    public boolean spendPoints(int p) {
    return PointsManager.getInstance(this).spendPoints(p);
    }

    /**
    * 奖励积分(如用户完成了某个你觉得需要奖励他积分的操作时调用此接口进行奖励)--可以在Unity3d中直接调用
    *
    * @param p
    * @return
    */
    public boolean awardPoints(int p) {
    return PointsManager.getInstance(this).awardPoints(p);
    }

    /**
    * 调用无积分插播广告--可以在Unity3d中直接调用
    */
    public void showSpot() {
    if (!mHasInitSpot) {
    mHasInitSpot = true;
    SpotManager.getInstance(this).loadSpotAds();
    }
    SpotManager.getInstance(this).showSpotAds(this);
    }

    /**
    * 实例化积分Banner并且将其加入到游戏界面中 --可以在Unity3d中直接调用
    */
    public void addOffersBanner() {
    if (mOffersBanner == null) {
    mHandler.post(new Runnable() {

    @Override
    public void run() {
    // TODO Auto-generated method stub
    try {
    // 实例化
    OffersBanner banner = new OffersBanner(mContext,
    OffersAdSize.SIZE_320x60);
    // 悬浮布局
    FrameLayout.LayoutParams lp = new FrameLayout.LayoutParams(
    -1, -2);
    // 这里设定为底部，可以根据需要在这里进行改动。
    lp.gravity = Gravity.BOTTOM;
    addContentView(banner, lp);
    mOffersBanner = banner;
    } catch (Exception e) {
    // TODO: handle exception
    }
    }
    });
    }
    }

    /**
    * 实例化无积分Banner并且将其加入到游戏界面中 --可以在Unity3d中直接调用
    */
    public void addBanner() {
    if (mAdView == null) {
    mHandler.post(new Runnable() {

    @Override
    public void run() {
    // TODO Auto-generated method stub
    try {
    // 实例化
    AdView adview = new AdView(mContext, AdSize.SIZE_320x50);
    // 悬浮布局
    FrameLayout.LayoutParams lp = new FrameLayout.LayoutParams(
    -1, -2);
    // 这里设定为底部，可以根据需要在这里进行改动。
    lp.bottomMargin = 120;
    lp.gravity = Gravity.BOTTOM|Gravity.CENTER_HORIZONTAL;
    addContentView(adview, lp);
    mAdView = adview;
    } catch (Exception e) {
    // TODO: handle exception
    }
    }
    });
    }
    }
    }

</code></pre>

<p>1.4. 配置AndroidManifest.xml。</p>

<p>可以直接复制里面的大部分内容，但是有两点需要注意的地方：<br/>
    1、必须正确填写您的应用的包名。<br/>
    2、本次demo为竖屏方向，故MainActivity的屏幕方向设置为竖屏，即添加android:screenOrientation="portrait"</p>
<pre><code class="prettyprint lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    package=&quot;此处更改为你的包名&quot;
    android:versionCode=&quot;1&quot;
    android:versionName=&quot;1.0&quot; &gt;

    &lt;uses-sdk
    android:minSdkVersion=&quot;8&quot;
    android:targetSdkVersion=&quot;17&quot; /&gt;

    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;
    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;
    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;
    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;
    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;
    &lt;uses-permission android:name=&quot;android.permission.GET_TASKS&quot;/&gt;
    &lt;!--以下为可选权限--&gt;
    &lt;uses-permission android:name=&quot;com.android.launcher.permission.INSTALL_SHORTCUT&quot;/&gt;

    &lt;application
    android:allowBackup=&quot;true&quot;
    android:icon=&quot;@drawable/ic_launcher&quot;
    android:label=&quot;@string/app_name&quot;
    android:theme=&quot;@style/AppTheme&quot; &gt;
    &lt;activity
    android:name=&quot;此处更改为你的包名.MainActivity&quot;
    android:label=&quot;@string/app_name&quot;
    android:screenOrientation=&quot;portrait&quot; &gt;
    &lt;intent-filter&gt;
    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;

    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;
    &lt;/intent-filter&gt;
    &lt;/activity&gt;
    &lt;activity
    android:name=&quot;com.unity3d.player.UnityPlayerActivity&quot;&gt;
    &lt;/activity&gt;

    &lt;!-- 添加必须的组件 --&gt;
    &lt;activity
    android:name=&quot;net.youmi.android.AdBrowser&quot;
    android:configChanges=&quot;keyboard|keyboardHidden|orientation&quot;
    android:theme=&quot;@android:style/Theme.Light.NoTitleBar&quot; &gt;
    &lt;/activity&gt;
    &lt;service
    android:name=&quot;net.youmi.android.AdService&quot;
    android:exported=&quot;false&quot; &gt;
    &lt;/service&gt;
    &lt;receiver
    android:name=&quot;net.youmi.android.AdReceiver&quot; &gt;
    &lt;intent-filter&gt;
    &lt;action android:name=&quot;android.intent.action.PACKAGE_ADDED&quot; /&gt;
    &lt;data android:scheme=&quot;package&quot; /&gt;
    &lt;/intent-filter&gt;
    &lt;/receiver&gt;

    &lt;!-- 配置OffersReceiver --&gt;
    &lt;receiver
    android:name=&quot;net.youmi.android.offers.OffersReceiver&quot;
    android:exported=&quot;false&quot; &gt;
    &lt;/receiver&gt;
    &lt;/application&gt;
    &lt;/manifest&gt;
</code></pre>

<p>1.5. Build项目，生成class文件。</p>

<p>目标是将之前编辑的MainActivity.java和res的一些资源引用编译为class文件。编译方式有很多种，这里只选择较为简单的方式。</p>

<p>首先，运行一下clean，清除一些编译缓存:</p>

<p><img alt="生成jar" src="images/youmiimg/compile_1.png"/></p>

<p>之后，编译和运行一下项目即可生成所需要的class<br/>
    <strong>注意这一步的作用在于编译生成.class文件，随之而生成的apk文件是不能运行的，请忽略</strong></p>

<p><img alt="生成jar" src="images/youmiimg/compile_2.png"/></p>

<p>生成的class文件，可以在bin/classes目录下找到:</p>

<p><img alt="生成jar" src="images/youmiimg/compile_5.png"/></p>

<p>1.6. 将bin目录下的class文件打包成jar，命名可随意，如youmidemo.jar。</p>

<p>首先，使用cmd等命令行工具，到达工程目录\bin\classes目录下，运行命令: jar -cvf ..\youmidemo.jar * </p>

<p><img alt="生成jar" src="images/youmiimg/compile_3.png"/></p>

<p>这样会在工程目录\bin目录下生成 youmidemo.jar，该jar之后需要导入到unity3d工程中。</p>

<p><img alt="生成jar" src="images/youmiimg/compile_4.png"/></p>

<p>到这里，Android java工程部分的工作已经结束，接下来进入Unity3d工程部分。</p>

<h3 class="sdkhead" id="create_unity3d_project">2. 创建Unity3d工程</h3>

<p><strong>开始之前请开发者自行设置Android Sdk的路径：依次进入Edit-&gt;Preferences-&gt;External Tools-&gt;Android SDK Location</strong></p>

<p>2.1. 设置项目参数。</p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_1.png"/></p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_2.png"/></p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_3.png"/></p>

<p>
    <strong>同时也要注意设定Unity3d项目中的屏幕方向，要注意与Android项目中的AndroidManifest.xml(上述1.4步骤)中所设置的保持一致，不然启动app之后旋转屏幕可能会app崩溃的现象</strong><br/>
    <img alt="unity工程" src="images/youmiimg/unity_build_settings_3_1.png"/></p>

<p>2.2. 导入Android工程</p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_4.png"/></p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_5.png"/></p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_6.png"/></p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_7.png"/></p>

<p>2.3. 编写调用脚本，放置在Assets目录下。</p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_8.png"/></p>

<p>脚本示例:</p>
<pre><code class="prettyprint lang-java">using UnityEngine;
    using System.Collections;

    public class youmidemo : MonoBehaviour {

    AndroidJavaClass mJc;
    AndroidJavaObject mJo;
    //public Texture texTitle;
    //public Texture texPoints;
    private int mPoints;


    void OnGUI(){
    GUILayout.Label(&quot;Youmi Sdk Sample&quot;);
    GUILayout.Label(&quot;My Points: &quot;+mPoints);

    if(GUILayout.Button(&quot;Show Offers&quot;,GUILayout.Height(100))){
    mJo.Call(&quot;showOffers&quot;); //show full screen offers wall
    }

    if(GUILayout.Button(&quot;Show Offers Dialog&quot;,GUILayout.Height(100))){
    mJo.Call(&quot;showOffersDialog&quot;); //show dialog offers wall
    }

    if(GUILayout.Button(&quot;Query Points&quot;,GUILayout.Height(100))){
    this.mPoints=mJo.Call&lt;int&gt;(&quot;queryPoints&quot;);//query the points of user's point account
    }

    if(GUILayout.Button(&quot;Award 10 Points&quot;,GUILayout.Height(100))){
    if(mJo.Call&lt;bool&gt;(&quot;awardPoints&quot;,10)){//demo of award 10 points
    this.mPoints=mJo.Call&lt;int&gt;(&quot;queryPoints&quot;); //the function return true when award point success ,
    then change the value of this.mPoints to display
    }
    }

    if(GUILayout.Button(&quot;Spend 5 Points&quot;,GUILayout.Height(100))){
    if(mJo.Call&lt;bool&gt;(&quot;spendPoints&quot;,5)){ //demo of spend 5 points
    this.mPoints=mJo.Call&lt;int&gt;(&quot;queryPoints&quot;); //the function return true when spend point success ,
    then change the value of this.mPoints to display
    }
    }

    if(GUILayout.Button(&quot;Show Spot&quot;,GUILayout.Height(100))){
    mJo.Call(&quot;showSpot&quot;); //show spot
    }


    if(GUILayout.Button(&quot;Exit&quot;,GUILayout.Height(100))){
    Application.Quit(); //exit
    }
    }


    // Use this for initialization
    void Start () {
    mJc=new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);
    mJo=mJc.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);
    mJo.Call(&quot;addOffersBanner&quot;);//show offers banner
    mJo.Call(&quot;addBanner&quot;); //show banner
    }

    // Update is called once per frame
    void Update () {

    if(Input.GetKeyDown(KeyCode.Escape) || Input.GetKeyDown(KeyCode.Home) )
    {
    Application.Quit(); //exit when key back
    }

    }
    }

</code></pre>

<p>本示例中，demo为生成几个按钮，故需要将脚本绑定到摄像机中</p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_9.png"/></p>

<p>2.4. 编译运行，注意此时最好连上手机进行调试。</p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_10.png"/></p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_11.png"/></p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_12.png"/></p>

<p><img alt="unity工程" src="images/youmiimg/unity_build_settings_13.png"/></p>

<p>等待进度条完毕即可</p>

<p>附：运行界面</p>

<p><img alt="demo" src="images/youmiimg/unity3d_demo.png"/></p>

<p><img alt="demo" src="images/youmiimg/unity3d_demo_1.png"/></p>

<p><img alt="demo" src="images/youmiimg/unity3d_demo_2.png"/></p>

<p><img alt="demo" src="images/youmiimg/unity3d_demo_3.png"/></p>

<h2 class="sdkhead" id="question_feedback">五、问题反馈</h2>

<p>在使用中有任何问题，欢迎联系有米客服，我们会竭诚为您服务！</p>
<ul>
    <li>QQ: 800006808</li>
    <li>weibo: <a href="http://e.weibo.com/youmiad">@有米广告</a></li>
</ul>
</div>
<!--</div>-->
</div>

<!--style="margin-top:30px;" style="margin-top:60px;" -->
</body>
</html>
